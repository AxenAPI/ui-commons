# Иконки дизайн-системы

Этот документ описывает процесс добавления новых иконок в дизайн-систему и последующего использования скрипта для
автоматической генерации экспортов.

## Добавление новых иконок

Чтобы добавить новые иконки, выполните следующие шаги:

1. **ВАЖНО**: Перед добавлением новых иконок нужно, чтобы все файлы SVG были минифицированы
   через [SVGOMG](https://jakearchibald.github.io/svgomg/ 'SVGOMG'). Есть два варианта минификации:

   - оптимизировать иконки вручную с помощью [SVGO](https://github.com/svg/svgo)
   - допустим, создать папку с иконками и запустить команду в этой папке. У вас создастся папка optimized, в которой
     будут лежать все оптимизированные иконки, потом их можно перенести туда, куда вам надо.
     - если не нравится папка optimized, можно переименовать или отказаться от неё

   Это необходимо для оптимизации и уменьшения размера файлов.

```
svgo -f ./ -o ./optimized
```

2. Размещайте иконки в папках: (`custom`, `tablers`).
   - В папке custom - кастомные иконки дизайн-системы.
   - В папке tabler - все иконки из библиотеки tablerIcons.

## Использование скрипта для генерации папок с иконками

Скрипт генерирует папку с файлами, в файлах сразу есть иконки.

**Как это работает?**
Вы заполняете массив названиями папок в формате kebab-case. Запускаете скрип для генерации иконок, потом скрип генерации
экспортов, всё готов!

!!!ВАЖНО!!! Папки должны называться также, как и svg-иконки!!!

**Результат выполнения скрипта:** Папка с тремя файлами: 12.tsx, 16.tsx,
24.tsx

1. Открываем файл **generateIcons.ts**, в константу с названием foldersToCreate добавляем в массив, в качестве строк
   наименования папкок, которые вы хотите сгенерировать.
2. Запускается скрипт из папки **/ui-commons/packages/icons/src/icon** командой

```
node --loader ts-node/esm .\generateIcons.ts
```

3. После генерации, создаются папка/-и с файлами, пример:

```
--src
  --icon
    --tabler
       12.tsx
       16.tsx
       24.tsx
```

Внутри файлов создаются компоненты с названием в формате: IconНазваниеПапкиРазмерность

## Использование скрипта для генерации экспортов

После того как вы добавили все необходимые иконки, запустите скрипт для автоматической генерации экспортов иконок.

```
node --loader ts-node/esm .\generateIconsExports.ts

```

Запускается скрипт из папки **/ui-commons/packages/icons/src/icon** командой

## Что делает скрипт?

Скрипт автоматически: Обновляет файлы index.ts в каждой подпапке с иконками, генерируя экспорты для каждого размера
иконки. Создает главный файл index.ts в корне папки иконок, содержащий импорты и экспорты всех иконок из обрабатываемых
папок. Генерирует объект icons с типом any, который содержит ссылки на все иконки, сгруппированные по размерам, для
удобного доступа в приложении.
